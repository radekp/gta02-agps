gta02-apgs-dump, gta02-agps-load, gta02-set-power, stdin-serial-set-raw

INFORMATION
===========

These programs can set up the UBX GPS chip to obtain
faster fix after powering on (TTFF). To do this it
needs AGPS information.

The AGPS information can be grabbed from GPS chip
when it has fix (reports valid position). Do:

    gta02-agps-dump agpsdata < /dev/ttySAC1 > /dev/ttySAC1

This will save AGPS data read from chip into the
file "agpsdata".

This data can be loaded into the GPS after it is
stopped and started again. This should improve TTFF.

To load data from agpsdata file issue:

    gta02-agps-load agpsdata < /dev/ttySAC1 > /dev/ttySAC1

Passing -h or --help argument gives you this message.

Passing -v or --verbose argument prints some debug
information while operating.

Before using this programs (especially gta02-agps-dump)
you need to properly set the serial port. You can
do this by:

    stty -F /dev/ttySAC1 raw

In case you do not have stty program, you can use
the one supplied in the package:

    stdin-serial-set-raw < /dev/ttySAC1

In order to get even faster fixes you can enable
FixNow(R) technology. When you intend to disable
the GPS, you can put it to a kind of stand-by mode
instead. Waking up (instead of doing power on) gives
you TTFF of 10 seconds range.

Instead of disabling GPS, do:

    gta02-set-power fixnow > /dev/ttySAC1

Instead of enabling it again, do:

    gta02-set-power max > /dev/ttySAC1

You need to have GPS powered on to do this kind
of things. Note this will drain some current, but
it should be minimal (comparing to GPS fully powered
on).

STORAGE FORMAT
==============

AGPS data is saved as UBX messages (the same format
you communicate with the device). For AID_ALM and
AID_EPH data it's nice, because on load you send
excatly the same message you dumped before. For
NAV_ESECEF and AID_HUI, program needs to grab only
parts of them and send different message to chip
AID_INI and a modified AID_HUI. This means program
needs to read the messages from file and parse them,
but that's not such a big problem.

COMPILING
=========

Compile programs with:

    gcc -fpack-struct gta02-agps-dump.c -o gta02-agps-dump
    gcc -fpack-struct gta02-agps-load.c -o gta02-load-dump

-fpack-struct is needed, because one of the structs
in ubx.h is not properly aligned and so will be
padded if -fpack-struct is not passed.

Makefile should do the job, just type:

    make

To have things compiled.

LICENSE
=======

Code licensed on GPLv2. Written by:

(C) 2010 Piotr Gabryjeluk <piotr@gabryjeluk.pl>

ubx.h header file is distributed on BSD-like license
(for details consult the file) auto-generated by:

Copyright (C) u-blox ag

Code inspired (and partially borrowed) from
Open GPS Daemon by

(C) 2008 Jan 'Shoragan' LÃ¼bbe <jluebbe@lasnet.de>
(C) 2008 Daniel Willmann <daniel@totalueberwachung.de>
(C) 2008 Openmoko, Inc.
licensed on GPLv2

Code inspired (and partially borrowed) from
http://iki.fi/lindi/git/ubx.git by:

Copyright (C) 2010 Timo Juhani Lindfors <timo.lindfors@iki.fi>
licensed on MIT license
